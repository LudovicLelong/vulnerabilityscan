<script>
  import Header from '../components/Header.svelte';
  import HeaderResponsive from '../components/HeaderResponsive.svelte';
  import { onMount } from 'svelte';

  let isMobile = false;

  onMount(() => {
    const checkScreenSize = () => {
      isMobile = window.innerWidth <= 800;
    };

    checkScreenSize();
    window.addEventListener('resize', checkScreenSize);

    return () => {
      window.removeEventListener('resize', checkScreenSize);
    };
  });
</script>

<style>
  .main-content {
    margin-left: 310px;
    transition: margin-left 0.3s;
  }

  /* Adjust size screen when headerResponsive appears */
  @media (max-width: 800px) {
    .main-content {
      margin-left: 0;
      margin-top: 30px; /* Add margin-top to push content down */
      padding: 1rem;
    }
  }

  header {
    z-index: 1000;
  }
</style>

{#if isMobile}
  <HeaderResponsive />
{:else}
  <Header />
{/if}

<main class="main-content">
  <slot />
</main>
