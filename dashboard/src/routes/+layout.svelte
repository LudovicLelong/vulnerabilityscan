<script>
  import Header from '../components/Header.svelte';
  import HeaderResponsive from '../components/HeaderResponsive.svelte';
  import { onMount } from 'svelte';

  let isMobile = false;

  onMount(() => {
    const checkScreenSize = () => {
      isMobile = window.innerWidth <= 800;
      adjustFooterMargin();
    };

    const adjustFooterMargin = () => {
      const mainContent = document.querySelector('.main-content');
      if (isMobile) {
        mainContent.style.marginBottom = '70px';
      } else {
        mainContent.style.marginBottom = '0';
      }
    };

    checkScreenSize();
    window.addEventListener('resize', checkScreenSize);

    return () => {
      window.removeEventListener('resize', checkScreenSize);
    };
  });
</script>

<style>
  .main-content {
    margin-left: 299px;
    transition: margin-left 0.3s, margin-bottom 0.3s;
  }

  /* Adjust size screen when headerResponsive appears */
  @media (max-width: 800px) {
    .main-content {
      margin-left: 0;
      margin-top: 50px; /* Add margin-top to push content down */
      padding: 1rem;
    }
  }

  header {
    z-index: 1000;
  }


  body {
    font-family: "Lao MN";
  }

  h1 {
    font-family: "Montserra, Poppins";
  }



</style>

{#if isMobile}
  <HeaderResponsive />
{:else}
  <Header />
{/if}

<main class="main-content">
  <slot />
</main>
